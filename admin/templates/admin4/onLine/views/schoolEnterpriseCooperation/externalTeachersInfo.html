<link href="../../../assets/admin/pages/css/profile-old.css" rel="stylesheet">
<style>
	.label-text {
		margin-top: 8px;
	}
	
	.abslute {
		position: absolute;
		float: right;
		margin-left: -100px;
		margin-top: 21px;
		width: 46px;
		height: 28px;
	}
	
	.table-toolbar {
		border-bottom: 3px solid #ddd;
		border-width: 100%;
	}
</style>
<div class="row" ng-controller="enrollCtrl">
	<div class="col-md-12">
		<!-- BEGIN EXAMPLE TABLE PORTLET-->
		<div class="portlet box grey-cascade">
			<div class="portlet-title">
				<div class="caption">
					<i class="fa fa-globe"></i>外聘教师信息
				</div>
			</div>
			<div class="portlet-body">
				<div class="table-toolbar">
					<form action="#" class="form-horizontal">
						<div class="form-body">
							<div class="row">
								<label class="col-md-1 control-label">姓名</label>
								<div class="col-md-2">
									<input type="text" class="form-control">
								</div><label class="col-md-1 control-label">手机号码</label>
								<div class="col-md-2">
									<input type="text" class="form-control">
								</div>
								<label class="col-md-1 control-label">毕业院校</label>
								<div class="col-md-2">
									<input type="text" class="form-control">
								</div>
								<div class="col-md-2">
									<button class="btn blue" type="button">查询</button>
								</div>
							</div>
						</div>
					</form>
					<div class="row">
						<div class="col-md-1">
							<label class="label-text">学历</label>
						</div>
						<div class="col-md-11">
							<ul class="nav nav-pills">
								<li ng-repeat="item in education" ng-click="select(item)">
									<a class="{{item.active ? 'tag-active' : ''}}" href="#">{{item.text}}</a>
								</li>
							</ul>
						</div>
						<div class="col-md-1">
							<label class="label-text">职称</label>
						</div>
						<div class="col-md-11">
							<ul class="nav nav-pills">
								<li ng-repeat="item in title" ng-click="select(item)">
									<a class="{{item.active ? 'tag-active' : ''}}" href="#">{{item.text}}</a>
								</li>
							</ul>
						</div>
						<div class="col-md-1">
							<label class="label-text">专业</label>
						</div>
						<div class="col-md-11">
							<ul class="nav nav-pills">
								<li ng-repeat="item in major" ng-click="select(item)">
									<a class="{{item.active ? 'tag-active' : ''}}" href="#">{{item.text}}</a>
								</li>
							</ul>
						</div>
					</div>
				</div>
				<table class="table table-striped table-bordered table-hover">
					<thead>
						<tr>
							<th>操作</th>
							<th>姓名</th>
							<th>性别</th>
							<th>手机号</th>
							<th>银行卡号</th>
							<th>开户行</th>
							<th>专业</th>
							<th>职称</th>
							<th>毕业学校</th>
							<th>审核状态</th>
							<th>是否聘用</th>
						</tr>
					</thead>
					<tbody>
						<tr class="odd gradeX" ng-repeat='item in data'>
							<td style="min-width: 250px;">
								<button ng-show='!item.edit' class="btn btn-info btn-sm" ng-click="add($index)">新增</button>
								<button ng-show='!item.edit' class="btn btn-info btn-sm" ng-click="edit(item)">编辑</button>
								<button ng-show='!item.edit' class="btn btn-sm btn-info" ng-click="">审核</button>
								<button ng-show='!item.edit' class="btn btn-sm btn-info" ng-click="">删除</button>
								<button ng-show='item.edit' class="btn btn-info btn-sm" ng-click="save(item)">保存</button>
								<button ng-show='item.edit' class="btn btn-info btn-sm" ng-click="cancel(item, $index)">取消</button>
							</td>
							<td>
								<span ng-show='!item.edit'>{{item.name}}</span>
								<input ng-show='item.edit' type="text" ng-model="item.name" />
							</td>
							<td><span ng-show='!item.edit'>{{item.sex}}</span>
								<input ng-show='item.edit' type="text" ng-model="item.sex" />
							</td>
							<td><span ng-show='!item.edit'>{{item.phone}}</span>
								<input ng-show='item.edit' type="text" ng-model="item.phone" />
							</td>
							<td><span ng-show='!item.edit'>{{item.bankCard}}</span>
								<input ng-show='item.edit' type="text" ng-model="item.bankCard" />
							</td>
							<td><span ng-show='!item.edit'>{{item.bankAddress}}</span>
								<input ng-show='item.edit' type="text" ng-model="item.bankAddress" />
							</td>
							<td><span ng-show='!item.edit'>{{item.major}}</span>
								<input ng-show='item.edit' type="text" ng-model="item.major" />
							</td>
							<td><span ng-show='!item.edit'>{{item.title}}</span>
								<input ng-show='item.edit' type="text" ng-model="item.title" />
							</td>
							<td><span ng-show='!item.edit'>{{item.center}}</span>
								<input ng-show='item.edit' type="text" ng-model="item.center" />
							</td>
							<td><span ng-show='!item.edit'>{{item.state}}</span>
								<input ng-show='item.edit' type="text" ng-model="item.state" />
							</td>
							<td><span ng-show='!item.edit'>{{item.hire}}</span>
								<input ng-show='item.edit' type="text" ng-model="item.hire" />
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
		<!-- END EXAMPLE TABLE PORTLET-->
	</div>

</div>
<script>
	function enrollCtrl($scope, $http, $rootScope) {
		$scope.data = [{
			name: '张三',
			sex: '男',
			phone: '13587692369',
			bankCard: '6225 **** **** ****',
			bankAddress: '农业路支行',
			phone: '13587692369',
			major: '信息技术',
			title: '教授',
			center: '郑大西',
			state: '审核通过',
			hire: '是'
		}, {
			name: '李四',
			sex: '女',
			phone: '13587692369',
			bankCard: '6225 **** **** ****',
			bankAddress: '经三路支行',
			major: '信息技术',
			title: '副教授',
			center: '郑大西',
			state: '审核通过',
			hire: '是'
		}];
		
		$scope.education = [{
			text: "博士"
		}, {
			text: "硕士"
		}, {
			text: "本科"
		}, {
			text: "专科"
		}, {
			text: "其他"
		}];
		
		$scope.title = [{
			text: "教授"
		}, {
			text: "副教授"
		}, {
			text: "讲师"
		}];
		
		$scope.major = [{
			text: "计算机基础"
		}, {
			text: "商务金融"
		}, {
			text: "JavaScript"
		}, {
			text: "Python"
		}, {
			text: "Go语言"
		}, {
			text: "java"
		}, {
			text: "Php"
		}];
		
		$scope.select = function(value) {
			$rootScope.activeColor(value,  function() {
				console.log(124);
			});
		};
		
		$scope.add = function(index) {
			$scope.flag = 'add';
			$scope.data.splice(index+1, 0, {
				edit: true
			});
		}
		
		$scope.edit = function(plan) {
			$scope.flag = 'edit';
			plan.edit = true;
		}
		
		$scope.save = function(plan) {
			alert("保存成功");
			plan.edit = false;
		};
		
		$scope.cancel = function(plan, index) {
			if($scope.flag == 'add') {
				$scope.data.splice(index, 1);
			}else if($scope.flag == 'edit') {
				plan.edit = false;				
			}
		};
		
	}
</script>