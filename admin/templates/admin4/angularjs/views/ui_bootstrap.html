<style>
	#uploader .placeholder {
		min-height: 150px;
		padding-top: 58px;
		background: none;
	}
</style>

<div class="row" ng-controller="createCourseCtrl">

	<div id="kecheng" class="my-tab-content">
		<div class="col-md-4">
			<!-- BEGIN: ACCORDION DEMO -->
			<div class="portlet light">
				<div class="portlet-title tabbable-line">
					<div class="caption font-green-sharp">
						<i class="icon-settings font-green-sharp"></i>
						<span class="caption-subject bold uppercase">课程宣传</span>
						<span class="caption-helper hide"></span>
					</div>
					<ul class="nav nav-tabs">
						<li class="active">
							<a data-target="#tab_1_1" data-toggle="tab">
								轮播图 </a>
						</li>
						<li>
							<a data-target="" data-toggle="tab">
								预告片 </a>
						</li>
					</ul>

				</div>
				<div class="portlet-body">
					<div class="tab-content">
						<div class="tab-pane active" id="tab_1_1">
							<div>
								<carousel interval="myInterval">
									<slide ng-repeat="slide in slides" active="slide.active">
										<img ng-src="{{slide.image}}" style="margin:auto;height: 180px;">
										<div class="carousel-caption">
											<!--<h4>Slide {{$index}}</h4>-->
											<p>{{slide.text}}</p>
										</div>
									</slide>
								</carousel>
							</div>
						</div>
						<div class="tab-pane" id="tab_1_2">
							<video controls="controls" style=" width: 100%;height: 100%;">
								<source src="http://www.runoob.com/try/demo_source/movie.mp4" type="video/mp4"></source>
							</video>
						</div>

					</div>

				</div>
			</div>
			<!-- END: ACCORDION DEMO -->
			
			<div class="portlet light">
				<div class="portlet-title">
					<div class="caption font-green-sharp">
						<i class="icon-settings font-green-sharp"></i>
						<span class="caption-subject bold uppercase">课程目录</span>
						<span class="caption-helper hide"></span>
					</div>
				</div>
				<div class="portlet-body">
					<div id="tree-kecheng" class="tree-demo"></div>
				</div>
			</div>
	
		</div>
		<div class="col-md-8">
			<!-- BEGIN: ACCORDION DEMO -->
			<div class="portlet light">
				<div class="portlet-title">
					<div class="caption font-green-sharp">
						<i class="icon-settings font-green-sharp"></i>
						<span class="caption-subject bold uppercase">课程信息</span>

					</div>
					<div class="actions">
						<div class="btn-group">

							<ul class="dropdown-menu pull-right">
								<li>
									<a href="#">
										<i class="fa fa-pencil"></i> Edit </a>
								</li>
								<li>
									<a href="#">
										<i class="fa fa-trash-o"></i> Delete </a>
								</li>
								<li>
									<a href="#">
										<i class="fa fa-ban"></i> Ban </a>
								</li>
								<li class="divider">
								</li>
								<li>
									<a href="#">
										<i class="i"></i> Make admin </a>
								</li>
							</ul>
						</div>
						<a class="btn btn-circle btn-icon-only btn-default fullscreen" href="#" data-original-title="" title="全屏">
						</a>
					</div>
				</div>
				<div class="portlet-body">
					<div role="form">
						<div class="form-body">
							<div class="row" style="margin-bottom: 40px;">
								<div class="col-md-6">
									<div class="form-group form-md-line-input {{flag}}">
										<input type="text" class="form-control" id="form_control_1" ng-blur="aaa()" placeholder="请输入课程名称">
										<label for="form_control_1">名称</label>
										<span class="help-block">名称不得超过20个字符</span>
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group form-md-line-input has-success">
										<input type="text" class="form-control" id="form_control_1" placeholder="请输入课程编号">
										<label for="form_control_1">编号</label>
										<span class="help-block"></span>
									</div>
								</div>
							</div>
							<div class="row" style="margin-bottom: 40px;">
								<div class="col-md-6">
									<div class="form-group form-md-line-input has-success">
										<input type="text" class="form-control" id="form_control_1" placeholder="请输入课程学分">
										<label for="form_control_1">学分</label>
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group form-md-line-input has-warning">
										<input type="text" class="form-control" id="form_control_1" placeholder="请输入课程学时">
										<label for="form_control_1">学时</label>
									</div>
								</div>
							</div>
							<div class="row" style="margin-bottom: 40px;">
								<div class="col-md-12">
									<div class="form-group form-md-checkboxes">
										<label>授课类型</label>
										<div class="md-checkbox-inline">
											<div class="md-checkbox">
												<input type="checkbox" id="checkbox6" class="md-check">
												<label for="checkbox6">
												<span></span>
												<span class="check"></span>
												<span class="box"></span>
												录播课程 </label>
											</div>
											<div class="md-checkbox">
												<input type="checkbox" id="checkbox7" class="md-check" checked="">
												<label for="checkbox7">
												<span></span>
												<span class="check"></span>
												<span class="box"></span>
												直播课程 </label>
											</div>
											<div class="md-checkbox">
												<input type="checkbox" id="checkbox8" class="md-check">
												<label for="checkbox8">
												<span></span>
												<span class="check"></span>
												<span class="box"></span>
												线下课堂 </label>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="row" style="margin-bottom: 40px;">
								<div class="col-md-12">
									<div class="form-group form-md-line-input">
										<textarea class="form-control" rows="3" placeholder="请输入轮播图显示的简要描述"></textarea>
										<label for="form_control_1">课程描述</label>
									</div>
								</div>
							</div>
						</div>
						<div class="row" style="margin-bottom: 40px;">
							<div class="col-md-12">
								<div class="form-group form-md-line-input">
									<label for="form_control_1" style="color: #888888;">轮播图</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
									<div id="uploader" class="wu-example">
										<div class="queueList">
											<div id="dndArea" class="placeholder">
												<div id="filePicker"></div>
											</div>
										</div>
										<div class="statusBar" style="display:none;">
											<div class="progress">
												<span class="text">0%</span>
												<span class="percentage"></span>
											</div>
											<div class="info"></div>
											<div class="btns">
												<div id="filePicker2"></div>
												<!--<div class="uploadBtn">开始上传</div>-->
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="form-actions noborder">
							<button type="button" class="btn blue">保存</button>
						</div>
					</div>

				</div>
			</div>
			<!-- END: ACCORDION DEMO -->
		</div>
	</div>

	<div id="jiaofu" class="my-tab-content" style="display: none;">
		<div class="col-md-4" style="height: 400px;">
			<div class="portlet light">
				<div class="portlet-title">
					<div class="caption font-green-sharp">
						<i class="icon-settings font-green-sharp"></i>
						<span class="caption-subject bold uppercase">章节目录</span>
						<span class="caption-helper hide"></span>
					</div>
				</div>
				<div class="portlet-body">
					<div id="tree-jiaofu" class="tree-demo">
					</div>
				</div>
			</div>

		</div>

		<div class="col-md-8">
			<div class="portlet light" style="min-height: 400px;">
				<div class="portlet-title tabbable-line">
					<div class="caption font-green-sharp">
						<i class="icon-settings font-green-sharp"></i>
						<span class="caption-subject bold uppercase">教案{{currKP}}</span>
					</div>
					<div class="actions">
						<button class="btn btn-circle red-sunglo btn-sm" data-toggle="modal" href="#dataModal">
							<i class="fa fa-plus"></i> 创建 </button>
					</div>
					<ul class="nav nav-tabs">
						<li class="active">
							<a data-target="#tab_2_1" data-toggle="tab">
								资料 </a>
						</li>
						<li>
							<a data-target="#tab_2_2" data-toggle="tab">
								提问 </a>
						</li>
						<li>
							<a data-target="#tab_2_3" data-toggle="tab">
								讨论 </a>
						</li>
						<li>
							<a data-target="#tab_2_4" data-toggle="tab">
								练习 </a>
						</li>
						<li>
							<a data-target="#tab_2_5" data-toggle="tab">
								头脑风暴 </a>
						</li>
						<li>
							<a data-target="#tab_2_5" data-toggle="tab">
								作业 </a>
						</li>
						<li>
							<a data-target="#tab_2_5" data-toggle="tab">
								任务 </a>
						</li>
						<li>
							<a data-target="#tab_2_5" data-toggle="tab">
								调查活动 </a>
						</li>
					</ul>
				</div>
				<div class="portlet-body">
					<div class="tab-content">
						<div class="tab-pane active" id="tab_2_1">
							<div class="scroller" style="height: 400px;" data-always-visible="1" data-rail-visible1="0" data-handle-color="#D7DCE2">
								<ul class="feeds">
									<li>
										<div class="col1">
											<div class="cont">
												<div class="cont-col1">
													<div class="label label-sm label-danger">
														<i class="fa fa-bolt"></i>
													</div>
												</div>
												<div class="cont-col2">
													<div class="desc">
														<a href="file/1.docx" type="application/ms-word" target=_blank>《电子商务基础》教学大纲.doc</a>

													</div>
												</div>
											</div>
										</div>
									</li>
									<li>
										<div class="col1">
											<div class="cont">
												<div class="cont-col1">
													<div class="label label-sm label-info">
														<i class="fa fa-bullhorn"></i>
													</div>
												</div>
												<div class="cont-col2">
													<div class="desc">
														电子商务基础教案.doc
													</div>
												</div>
											</div>
										</div>
									</li>
									<li>
										<div class="col1">
											<div class="cont">
												<div class="cont-col1">
													<div class="label label-sm label-success">
														<i class="fa fa-bullhorn"></i>
													</div>
												</div>
												<div class="cont-col2">
													<div class="desc">
														电子商务基础课件.ppt
													</div>
												</div>
											</div>
										</div>
									</li>
								</ul>
							</div>
						</div>
						<div class="tab-pane" id="tab_2_2">
							<ul class="feeds">
								<li>
									<div class="col1" data-toggle="modal" href="#questionModal" style="cursor: pointer;">
										<div class="cont">
											<div class="cont-col1">
												<div class="label label-sm label-info">
													<i class="fa fa-bullhorn"></i>
												</div>
											</div>
											<div class="cont-col2">
												<div class="desc">
													1.商家要开展电子商务活动 , 应该用（ ）作为其主要的生意平台。
												</div>
											</div>
										</div>
									</div>
								</li>
								<li>
									<div class="col1">
										<div class="cont">
											<div class="cont-col1">
												<div class="label label-sm label-success">
													<i class="fa fa-bullhorn"></i>
												</div>
											</div>
											<div class="cont-col2">
												<div class="desc">
													2.Intranet和Internet的区别是 ( )
												</div>
											</div>
										</div>
									</div>
								</li>
								<li>
									<div class="col1" data-toggle="modal" href="#questionModal" style="cursor: pointer;">
										<div class="cont">
											<div class="cont-col1">
												<div class="label label-sm label-info">
													<i class="fa fa-bullhorn"></i>
												</div>
											</div>
											<div class="cont-col2">
												<div class="desc">
													3.电子数据交换的简称是 ( )
												</div>
											</div>
										</div>
									</div>
								</li>
							</ul>
						</div>
						<div class="tab-pane" id="tab_2_3">

						</div>
						<div class="tab-pane" id="tab_2_4"></div>
						<div class="tab-pane" id="tab_2_5">
							<div class="scroller" style="height: 400px;" data-always-visible="1" data-rail-visible1="0" data-handle-color="#D7DCE2">
								<ul class="feeds">
									<li>
										<div class="col1">
											<div class="cont">
												<div class="cont-col1">
													<div class="label label-sm label-info">
														<i class="fa fa-bullhorn"></i>
													</div>
												</div>
												<div class="cont-col2">
													<div class="desc">
														电子商务基础同步导读.doc
													</div>
												</div>
											</div>
										</div>
									</li>
									<li>
										<div class="col1">
											<div class="cont">
												<div class="cont-col1">
													<div class="label label-sm label-success">
														<i class="fa fa-bullhorn"></i>
													</div>
												</div>
												<div class="cont-col2">
													<div class="desc">
														电子商务基础课件.ppt
													</div>
												</div>
											</div>
										</div>
									</li>
								</ul>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

	</div>

	<div class="modal fade" id="sm" tabindex="-1" role="dialog" aria-hidden="true">
		<div class="modal-dialog modal-sm">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
					<h4 class="modal-title">课程信息</h4>
				</div>
				<div class="modal-body">
					<div class="portlet">
						<div class="portlet-body">
							<div role="form">
								<div class="form-body">
									<div class="row" style="margin-bottom: 40px;">
										<div class="col-md-12">
											<div class="form-group form-md-line-input">
												<input type="text" class="form-control" ng-model="nodeName" placeholder="请输入节点名称" />
												<label for="form_control_1">节点</label>
												<span class="help-block">名称不得超过20个字符</span>
											</div>
										</div>
									</div>
								</div>
								<div class="form-actions noborder">
									<button type="button" class="btn blue" ng-click="createNode()">Submit</button>
									<button type="button" class="btn default" data-dismiss="modal">Cancel</button>
								</div>
							</div>

						</div>
					</div>

				</div>
				<!--<div class="modal-footer">
					<button type="button" class="btn default" data-dismiss="modal">Close</button>
					<button type="button" class="btn blue">Save changes</button>
				</div>-->
			</div>
			<!-- /.modal-content -->
		</div>
		<!-- /.modal-dialog -->
	</div>

	<div class="modal fade" id="dataModal" tabindex="-1" role="dialog" aria-hidden="true">
		<div class="modal-dialog modal-full">
			<div class="modal-content">
				<div class="portlet light" style="min-height: 400px;">
					<div class="portlet-title tabbable-line">
						<div class="caption font-green-sharp">
							<i class="icon-settings font-green-sharp"></i>
							<span class="caption-subject bold uppercase" id="title">教案{{currKP}}</span>
						</div>
						<div class="actions">
							<button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
						</div>
						<ul class="nav nav-tabs">
							<li class="active">
								<a data-target="#tab_3_1" data-toggle="tab">
									资料 </a>
							</li>
							<li>
								<a data-target="#tab_3_2" data-toggle="tab">
									提问 </a>
							</li>
							<li>
								<a data-target="#tab_3_3" data-toggle="tab">
									讨论 </a>
							</li>
							<li>
								<a data-target="#tab_3_4" data-toggle="tab">
									练习 </a>
							</li>
							<li>
								<a data-target="#tab_3_5" data-toggle="tab">
									头脑风暴 </a>
							</li>
							<li>
								<a data-target="#tab_3_5" data-toggle="tab">
									作业 </a>
							</li>
							<li>
								<a data-target="#tab_3_5" data-toggle="tab">
									任务 </a>
							</li>
							<li>
								<a data-target="#tab_3_5" data-toggle="tab">
									调查活动 </a>
							</li>
							
						</ul>
					</div>
					<div class="portlet-body">
						<div class="tab-content">
							<div class="tab-pane active" id="tab_3_1">
								<div class="row">
									<div class="col-md-6">
										<div class="portlet box grey-cascade">
											<div class="portlet-title">
												<div class="caption">
													<i class="fa fa-gift"></i>资料库列表
												</div>
												<div class="tools">
													<a href="javascript:;" class="collapse" data-original-title="" title="">
													</a>
												</div>
											</div>
											<div class="portlet-body">
												<ul class="feeds">
													<li>
														<div class="col1">
															<div class="cont">
																<div class="cont-col1">
																	<div class="md-checkbox">
																		<input type="checkbox" id="checkbox11" class="md-check">
																		<label for="checkbox11">
																<span></span>
																<span class="check"></span>
																<span class="box"></span>
																</label>
																	</div>
																</div>
																<div class="cont-col2">
																	<div class="desc">
																		电子商务基础教学大纲.doc
																	</div>
																</div>
															</div>
														</div>
													</li>
													<li>
														<div class="col1">
															<div class="cont">
																<div class="cont-col1">
																	<div class="md-checkbox">
																		<input type="checkbox" id="checkbox21" class="md-check">
																		<label for="checkbox21">
																<span></span>
																<span class="check"></span>
																<span class="box"></span>
																</label>
																	</div>
																</div>
																<div class="cont-col2">
																	<div class="desc">
																		电子商务基础教案.doc
																	</div>
																</div>
															</div>
														</div>
													</li>
													<li>
														<div class="col1">
															<div class="cont">
																<div class="cont-col1">
																	<div class="md-checkbox">
																		<input type="checkbox" id="checkbox31" class="md-check">
																		<label for="checkbox31">
																<span></span>
																<span class="check"></span>
																<span class="box"></span>
																</label>
																	</div>
																</div>
																<div class="cont-col2">
																	<div class="desc">
																		电子商务基础课件.ppt
																	</div>
																</div>
															</div>
														</div>
													</li>
												</ul>
											</div>
										</div>

									</div>
									<div class="col-md-6" style="text-align: center;">
										<div class="portlet box grey-cascade">
											<div class="portlet-title">
												<div class="caption">
													<i class="fa fa-gift"></i>新增文件
												</div>
												<div class="tools">
													<a href="javascript:;" class="collapse" data-original-title="" title="">
													</a>
												</div>
											</div>
											<div class="portlet-body">
												<ul class="feeds">
													<li>
														<div class="col1">
															<div class="cont">
																<div class="cont-col1">
																	<div class="md-checkbox">
																		<input type="checkbox" id="checkbox11" class="md-check">
																		<label for="checkbox11">
																<span></span>
																<span class="check"></span>
																<span class="box"></span>
																</label>
																	</div>
																</div>
																<div class="cont-col2">
																	<div class="desc">
																		新增文件.doc
																	</div>
																</div>
															</div>
														</div>
													</li>
												</ul>
												<button type="button" class="btn green" ng-click="" style="margin-top: 40px;">上传</button>
											</div>
										</div>

									</div>
								</div>
							</div>
							<div class="tab-pane" id="tab_3_2">
								<div class="row">
									<div class="col-md-4" style="text-align: center;">
										<ul class="feeds">
											<li>
												<div class="col1">
													<div class="cont">
														<div class="cont-col1">
															<div class="md-checkbox">
																<input type="checkbox" id="checkbox1" class="md-check">
																<label for="checkbox1">
																<span></span>
																<span class="check"></span>
																<span class="box"></span>
																</label>
															</div>
														</div>
														<div class="cont-col2">
															<div class="desc">
																电子商务基础-问答册1
															</div>
														</div>
													</div>
												</div>
											</li>
											<li>
												<div class="col1">
													<div class="cont">
														<div class="cont-col1">
															<div class="md-checkbox">
																<input type="checkbox" id="checkbox2" class="md-check">
																<label for="checkbox2">
																<span></span>
																<span class="check"></span>
																<span class="box"></span>
																</label>
															</div>
														</div>
														<div class="cont-col2">
															<div class="desc">
																电子商务基础-问答册2
															</div>
														</div>
													</div>
												</div>
											</li>
											<li>
												<div class="col1">
													<div class="cont">
														<div class="cont-col1">
															<div class="md-checkbox">
																<input type="checkbox" id="checkbox3" class="md-check">
																<label for="checkbox3">
																<span></span>
																<span class="check"></span>
																<span class="box"></span>
																</label>
															</div>
														</div>
														<div class="cont-col2">
															<div class="desc">
																电子商务基础-问答册3
															</div>
														</div>
													</div>
												</div>
											</li>
											<li>
												<div class="col1">
													<div class="cont">
														<div class="cont-col1">
															<div class="md-checkbox">
																<input type="checkbox" id="checkbox4" class="md-check">
																<label for="checkbox4">
																<span></span>
																<span class="check"></span>
																<span class="box"></span>
																</label>
															</div>
														</div>
														<div class="cont-col2">
															<div class="desc">
																电子商务基础-问答册4
															</div>
														</div>
													</div>
												</div>
											</li>
											<li>
												<div class="col1">
													<div class="cont">
														<div class="cont-col1">
															<div class="md-checkbox">
																<input type="checkbox" id="checkbox5" class="md-check">
																<label for="checkbox5">
																<span></span>
																<span class="check"></span>
																<span class="box"></span>
																</label>
															</div>
														</div>
														<div class="cont-col2">
															<div class="desc">
																电子商务基础-问答册5
															</div>
														</div>
													</div>
												</div>
											</li>
										</ul>
										<button type="button" class="btn green" style="margin-top: 40px;">创建题目</button>
									</div>
									<div class="col-md-8">
										<div id="accordion1" class="panel-group">
											<div class="panel panel-default">
												<div class="panel-heading">
													<h4 class="panel-title">
														<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion1" data-target="#accordion1_1">
														1. 商家要开展电子商务活动 , 应该用（ C  ）作为其主要的生意平台。 </a>
													</h4>
												</div>
												<div id="accordion1_1" class="panel-collapse collapse in">
													<div class="panel-body">
														<p>A． BBS</p>
														<p>B．电子邮件</p>
														<p>C．在线商店</p>
														<p>D．电话定购</p>
													</div>
												</div>
											</div>
											<div class="panel panel-default">
												<div class="panel-heading">
													<h4 class="panel-title">
														<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion1" data-target="#accordion1_2">
														2. Intranet和Internet的区别是 ( A ) </a>
													</h4>
												</div>
												<div id="accordion1_2" class="panel-collapse collapse">
													<div class="panel-body">
														<p>A．访问 Intranet 需要授权</p>
														<p>B．Intranet 执行特殊的协议</p>
														<p>C．Intranet 软件和协议是独立于硬件的</p>
														<p>D．Intrarlet 只在扇部物理范围内运行</p>
													</div>
												</div>
											</div>
											<div class="panel panel-default">
												<div class="panel-heading">
													<h4 class="panel-title">
														<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion1" data-target="#accordion1_3">
														3. 电子数据交换的简称是 ( B )  </a>
													</h4>
												</div>
												<div id="accordion1_3" class="panel-collapse collapse">
													<div class="panel-body">
														<p>A．EFT</p>
														<p>B．EDI</p>
														<p>C．NET</p>
														<p>D．EC</p>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>

							</div>
							<div class="tab-pane" id="tab_3_3">

							</div>
							<div class="tab-pane" id="tab_3_4"></div>
							<div class="tab-pane" id="tab_3_5"></div>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn default" data-dismiss="modal">关闭</button>
					<button type="button" class="btn blue">确定</button>
				</div>
			</div>
			<!-- /.modal-content -->
		</div>
		<!-- /.modal-dialog -->
	</div>
</div>
<!-- END MAIN CONTENT -->

<script src="js/webuploader-0.1.5/webuploader.min.js"></script>
<script src="js/webuploader-0.1.5/demo.js"></script>
<!-- BEGIN MAIN JS-->
<script>
	function createCourseCtrl($scope) {
		$scope.flag = "";
		$scope.knowledgePoints = [];
		$scope.selector = '#tree-kecheng';

		//		$(".btn-taps button").click(function() {
		//			
		//		});

		$(".page-title").on("click", "button", function() {
			$(".btn-taps button").removeClass("red");
			$(this).addClass("red");
			var id = $(this).data("target");
			$(".my-tab-content").hide();
			$("#" + id).show();
			$scope.selector = '#tree-' + id;
			$scope.initTree();
		})

		$scope.initTree = function() {
			$($scope.selector).jstree({
				'core': {
					"check_callback": true,
					'data': [{
						'id': 'node_1',
						'text': '第一章 电子商务概述',
						'state': {
							'opened': true,
						},
						'children': [{
							'text': '1.电子商务的内涵',
							'icon': 'fa fa-briefcase icon-state-success',
							'state': {
								'opened': true
							},
						}, {
							'text': '2.电子商务的产生背景和发展过程',
							'icon': 'fa fa-briefcase icon-state-success'
						}, {
							'text': '3.电子商务的作用与影响',
							'icon': 'fa fa-briefcase icon-state-success'
						}]
					}, {
						'id': 'node_2',
						'text': '第二章 Internet 基础知识',
						'state': {
							'opened': true
						},
						'children': [{
							'text': '1.Internet 概述 ',
							'icon': 'fa fa-briefcase icon-state-success'
						}, {
							'text': '2.Internet 的主要功能',
							'icon': 'fa fa-briefcase icon-state-success'
						}]
					}, {
						'id': 'node_3',
						'text': '第三章 电子商务的主要模式',
						'state': {
							'opened': true
						},
						'children': [{
							'text': '1.电子商务的框架模型',
							'icon': 'fa fa-briefcase icon-state-success'
						}, {
							'text': '2.企业与企业之间的电子商务模式',
							'icon': 'fa fa-briefcase icon-state-success'
						}, {
							'text': '3.企业与消费者之间电子商务模式',
							'icon': 'fa fa-briefcase icon-state-success'
						}]
					}]
				},
				"plugins": ['contextmenu'],
				"contextmenu": {
					"items": {
						"create": null,
						"rename": null,
						"remove": null,
						"ccp": null,
						"新建菜单": {
							"label": "新建菜单",
							"action": function(data) {
								$scope.flag = "create";
								$scope.nodeName = "";
								$("#sm").modal("show");
							}
						},
						"编辑菜单": {
							"label": "编辑菜单",
							"action": function(data) {
								$scope.flag = "rename";
								$scope.nodeName = "";
								$("#sm").modal("show");
							}
						},
						"删除菜单": {
							"label": "删除菜单",
							"action": function(data) {
								var r = confirm("确定要删除该节点吗");
								if(r) {
									var ref = $($scope.selector).jstree(true),
										sel = ref.get_selected();
									if(!sel.length) {
										return false;
									}
									ref.delete_node(sel);
								}
							}
						}
					}
				}
			});
		}
		$scope.initTree();

		$scope.createNode = function() {
			var ref = $($scope.selector).jstree(true),
				sel = ref.get_selected();
			if(!sel.length) {
				return false;
			}
			sel = sel[0];
			$("#sm").modal("hide");
			if($scope.flag == "create") {
				sel = ref.create_node(sel, {
					text: $scope.nodeName,
					'state': {
						'opened': true
					},
				});
			} else if($scope.flag == "rename") {
				ref.rename_node(sel, $scope.nodeName);
			}
		};

		$("#kpContent").on("click", "a[name='kp']", function() {
			$("#kpContent a[name='kp']").removeClass("btn-danger").addClass("btn-info");
			$(this).removeClass("btn-info").addClass("btn-danger");

			//alert("选中知识点"+$(this).data("value"));
		});

		$("#kpContent").on("click", "i[name='remove']", function() {
			$(this).parent("a").remove();
			return false;
		});

		//		$scope.myInterval = 5000;
		var slides = $scope.slides = [{
			image: 'images/1.jpg',
			text: "电子商务基础"
		}, {
			image: 'images/2.jpg',
			text: "电子商务基础"
		}, {
			image: 'images/3.jpg',
			text: "电子商务基础"
		}];
		$scope.addSlide = function() {
			//	    	var newWidth = 500 + slides.length;
			slides.push({
				image: '',
				text: '电子商务基础'
			});
		};
		//	  	
		//	  	for (var i=0; i<4; i++) {
		//	    	$scope.addSlide();
		//	  	}
	}
</script>
<!-- BEGIN MAIN JS -->